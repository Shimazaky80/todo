<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My Todo App</title>
  </head>
  <body>
    <input id="todo-title" type="text" />
    <button onclick="addTodo()">Add Todo</button>

    <!--
      How it works:
      when page loads, will load todos array, by calling the render() function
      Then when input text box is filled and Add Todo button is clicked,
      the value of the text box is added to the todos array
      and call the render() function again, reset the list
      and then re-rendered the updated list
    -->

    <!-- 
      rendering our todo list inside this div
      instead of inside the body
    -->
    <div id="todo-list"></div>

    <script>
      const todos = ["Get groceries", "Wash car", "Make dinner"];

      // first time the code runs, will call this rende function
      // with the todos array above
      render();

      // adding todo to the array
      function addTodo() {
        // finding and grabbing todo-title id from html input text element
        // and saving it to js variable for later use
        const txtBox = document.getElementById("todo-title");
        // getting the actual typed value from the text box
        const title = txtBox.value;
        todos.push(title);

        // when button Add Todo is clicked, the todos array
        // will be rendered again with the value of the text input
        render();
      }

      function render() {
        // reset our list, clear the previous list before re-rendering it
        // wipe out the list and replace it with empty string
        document.getElementById("todo-list").innerHTML = "";

        // looping through each todo. Each loop will create an element
        // with each todo as parameter
        todos.forEach(function (todoTitle) {
          const element = document.createElement("div");
          element.innerText = todoTitle;
          // grap the html div element with todo-list id, and save it in the
          // js variable todoList
          const todoList = document.getElementById("todo-list");
          todoList.appendChild(element);
        });
      }
    </script>
  </body>
</html>
